
<!DOCTYPE html>
<html lang='en'>
<head>
	<meta charset='utf-8'/>
	<title>Source: defaults.js - Just js</title>
	<link type='text/css' rel='stylesheet' href='css/jsdoc-template.css'/>
	<meta name="viewport" content="width=device-width,
                        initial-scale=1"/><link rel='shortcut icon' type='image/png' href='/img/favicon-16x16.png'/><link rel='stylesheet' href='../css/jsdoc.css'/>
</head>
<body data-gs='{"openPageHeader": "is-page-header-open", "searching": "is-searching"}'>
	<div id='page-wrapper'>
		<header id='page-header' data-gs-target='openPageHeader'>
			
			<div id='logo'><a href='/'><img src='/img/logo-white-64x64.png' alt='Logo' srcset='/img/logo-white-128x128.png 2x'/></a></div>
			
			<nav id='content-nav'>
				<header>
					<div id='search'>
						<div class='textfield-wrapper'>
							<input type='search' name='q' placeholder='Search...' data-internal-search='#content-nav li a' data-gs-search='searching'/>
						</div>
					</div>
				</header>
				<h2><a href="index.html">Home</a></h2><h3>Namespaces</h3><ul><li><abbr title="Namespace">NS</abbr> <a href="just.access.html">access</a></li><li><abbr title="Namespace">NS</abbr> <a href="just.check.html">check</a></li><li><abbr title="Namespace">NS</abbr> <a href="just.defaults.html">defaults</a></li><li><abbr title="Namespace">NS</abbr> <a href="just.defineProperties.html">defineProperties</a></li><li><abbr title="Namespace">NS</abbr> <a href="just.defineProperty.html">defineProperty</a></li><li><abbr title="Namespace">NS</abbr> <a href="just.defProp.html">defProp</a></li><li><abbr title="Namespace">NS</abbr> <a href="just.defProps.html">defProps</a></li><li><abbr title="Namespace">NS</abbr> <a href="just.eachProp.html">eachProp</a></li><li><abbr title="Namespace">NS</abbr> <a href="just.eachProperty.html">eachProperty</a></li><li><abbr title="Namespace">NS</abbr> <a href="just.emptyObj.html">emptyObj</a></li><li><abbr title="Namespace">NS</abbr> <a href="just.from.html">from</a></li><li><abbr title="Namespace">NS</abbr> <a href="just.is.html">is</a></li><li><abbr title="Namespace">NS</abbr> <a href="just.isEmptyObject.html">isEmptyObject</a></li><li><abbr title="Namespace">NS</abbr> <a href="just.prop.html">prop</a></li><li><abbr title="Namespace">NS</abbr> <a href="just.stringToJSON.html">stringToJSON</a></li><li><abbr title="Namespace">NS</abbr> <a href="just.toJSON.html">toJSON</a></li><li><abbr title="Namespace">NS</abbr> <a href="just.toObj.html">toObj</a></li><li><abbr title="Namespace">NS</abbr> <a href="just.toObjectLiteral.html">toObjectLiteral</a></li></ul><h3>Mixins</h3><ul><li><abbr title="Mixin">Mix</abbr> <a href="just.html">just</a></li></ul><h3>Global</h3><ul><li><abbr title="Global">Glo</abbr> <a href="global.html#set">set</a></li></ul>
			</nav>
		</header>
		<div id='main-wrapper'>
			<button id='page-header-opener' title='Toggle left bar' class='has-icon' data-css-icon='menu' type='button' data-gs-toggle='openPageHeader'>Toggle left bar</button>
			<main id='content'>
				<header>
					<h1 id='content-title'>Source: defaults.js</h1>
				</header>
				



    
    <figure class='source-code-wrapper'>
        <pre class="prettyprint source linenums"><code>var check = require('./check');
var eachProperty = require('./eachProperty');

/**
 * Defaults to &lt;var>defaultValue&lt;/var> if &lt;var>value&lt;/var> looks like
 * &lt;var>defaultValue&lt;/var>.
 *
 * @namespace
 * @memberof just
 * @param {*} value - Any value.
 * @param {*} [defaultValue] - A value with a desired type for &lt;var>value&lt;/var>.
 *     If an object literal is given, all the keys of &lt;var>value&lt;/var> will &lt;var>default&lt;/var>
 *     to his corresponding key in this object.
 * @param {object} opts - Some options.
 * @param {boolean} [opts.ignoreDefaultKeys=false] - If `false` and &lt;var>defaultValue&lt;/var>
 *     is an object literal, the default keys will be added to &lt;var>value&lt;/var>
 *     or checked against this function for each repeated key.
 * @param {boolean} [opts.checkLooks=true]
 *     If `true`:
 *         `[]` will match ONLY with another Array.
 *         `{}` will match ONLY with another object literal.
 *     If `false`
 *         `[]` and `{}` will match with any other object.
 * @param {boolean} [opts.checkDeepLooks=true]
 *     Same as &lt;var>checkLooks&lt;/var> but it works with the inner values
 *     of the objects.
 * @param {boolean} [opts.ignoreNull=false]
 *     If `true`, &lt;var>defaultValue&lt;/var>s with null as a value won't be checked
 *     and any &lt;var>value&lt;/var> (except `undefined`) will be allowed.
 *
 * @example
 * defaults([1, 2], {a: 1}); // {a: 1}
 *
 * @example
 * defaults({}, null); // null: null is not an object literal.
 * defaults([], null, {'checkLooks': false}); // []: null is an object.
 * defaults(null, {}); // {}: null is not an object literal.
 * defaults(null, []); // []: null is not an Array.
 *
 * @example
 * defaults(1, NaN); // 1 (NaN is an instance of a Number)
 *
 * @example
 * defaults({'a': 1, 'b': 2}, {'a': 'some string'}, {'ignoreDefaultKeys': false}); // {'a': 'some string', 'b': 2}
 *
 * @example
 * defaults({'a': 1}, {'b': 2}, {'ignoreDefaultKeys': false}); // {'a': 1, 'b': 2}
 * defaults({'a': 1}, {'b': 2}, {'ignoreDefaultKeys': true}); // {'a': 1}
 *
 * @example
 * defaults(1, null, {'ignoreNull': false}) // null (1 is not an object)
 * defaults(1, null, {'ignoreNull': true}) // 1
 * defaults(undefined, null, {'ignoreNull': true}) // null
 * defaults({a: 1}, {a: null}, {'ignoreNull': true}) // {a: 1}
 *
 * @returns {value} &lt;var>value&lt;/var> if it looks like &lt;var>defaultValue&lt;/var> or &lt;var>defaultValue&lt;/var> otherwise.
 */
function defaults (value, defaultValue, opts) {

    var options = Object.assign({
        'ignoreDefaultKeys': false,
        'checkLooks': true,
        'checkDeepLooks': true,
        'ignoreNull': false
    }, opts);

    if (options.ignoreNull &amp;&amp; defaultValue === null &amp;&amp; value !== void 0) { return value; }

    if (options.checkLooks) {

        if (!check(value, defaultValue)) { return defaultValue; }

        if (check(value, {}) &amp;&amp; options.checkDeepLooks) {

            eachProperty(defaultValue, function (v, k) {

                if (typeof value[k] !== 'undefined') {

                    value[k] = defaults(value[k], v, options);

                }
                else if (!options.ignoreDefaultKeys) {

                    value[k] = v;

                }

            });

        }

        return value;

    }

    return (typeof value === typeof defaultValue
        ? value
        : defaultValue
    );

}

module.exports = defaults;
</code></pre>
    </figure>





			</main>
			<footer id='page-footer'>
				<small>Documentation generated by <a href='https://github.com/jsdoc/jsdoc' rel='noreferrer noopener' target='_blank'>JSDoc 3.6.3</a>.</small>
				<small style='margin-left: 1em;'>Design by <a
                        href='https://github.com/AlexisPuga'
                        target='_blank'
                        rel="noopener noreferrer">Alexis Puga</a>.</small>
			</footer>
		</div>
	</div>
	<script src='js/jsdoc-template.js' async></script>
	
	<script src='js/prettify.min.js' async></script>
	<link rel='stylesheet' type='text/css' href='css/tomorrow.min.css'/>
	
	
</body>
</html>
